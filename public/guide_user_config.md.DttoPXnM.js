import{_ as s,c as i,o as a,aS as n}from"./chunks/framework.4okfb48a.js";const E=JSON.parse('{"title":"配置文件","description":"","frontmatter":{},"headers":[],"relativePath":"guide/user/config.md","filePath":"guide/user/config.md"}'),l={name:"guide/user/config.md"},p=n(`<h1 id="配置文件" tabindex="-1">配置文件 <a class="header-anchor" href="#配置文件" aria-label="Permalink to &quot;配置文件&quot;">​</a></h1><p>在项目工程的<code>application.yml</code>配置文件中，可以添加以下 MinIO Plus 相关配置项：</p><h2 id="必选参数" tabindex="-1">必选参数： <a class="header-anchor" href="#必选参数" aria-label="Permalink to &quot;必选参数：&quot;">​</a></h2><ul><li><code>minioplus.backend</code>：MinIO 服务地址</li><li><code>minioplus.key</code>：MinIO Key</li><li><code>minioplus.secret</code>：MinIO Secret</li></ul><h2 id="可选参数" tabindex="-1">可选参数： <a class="header-anchor" href="#可选参数" aria-label="Permalink to &quot;可选参数：&quot;">​</a></h2><ul><li><code>minioplus.browser-url</code>：Nginx 代理地址</li></ul><div class="tip custom-block github-alert"><p class="custom-block-title">TIP</p><p>在生产环境，基于安全考虑，MinIO 服务地址通常不会直接暴露出去，会通过 Nginx 或其他代理将 9000 端口暴露到互联网。 在这种情况下，会导致 MinIO 存在内外网两个地址，用户访问的是外网地址，而我们服务之间访问的是内网地址。 那么 minio-plus 在通过 S3 接口生成上传、下载等地址都是内网地址，就需要转换成用户可以访问的外网地址。 <code>browser-url</code>参数就是做这个地址转换用的，配置后可以将生成的地址转换成外网地址。</p></div><ul><li><code>minioplus.upload-expiry</code>：上传预签名URL有效期，默认值为60分钟</li><li><code>minioplus.download-expiry</code>：下载和预览预签名URL有效期，默认值为60分钟</li><li><code>minioplus.part.enable</code>：是否开启分片上传，默认为true</li><li><code>minioplus.part.size</code>：分片大小，配置单位为byte，默认为5242880</li><li><code>minioplus.thumbnail.size</code>：缩略图尺寸，默认为300</li></ul><p>完全版本的配置文件例子如下：</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">##################################################################</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">### MinIO Plus Config</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">##################################################################</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">minioplus</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # MinIO 部署地址</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    backend</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">http://localhost:9000</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # 浏览器访问地址，文件、图片上传下载访问地址代理，如果minio被nginx代理，需要配置这个参数为代理后的前端访问地址</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    browser-url</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">http://localhost:9000</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # 授权key</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    key</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">minioadmin</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # 密钥</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    secret</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">minioadmin</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # 上传预签名URL有效期，单位为分钟，可选参数，默认值为60分钟</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    upload-expiry</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">120</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # 下载和预览预签名URL有效期，单位为分钟，可选参数，默认值为60分钟</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    download-expiry</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">20</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # 可选参数，分块配置</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    part</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        # 可选参数，是否开启分块能力。默认为true</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        enable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        # 可选参数，分块大小，配置单位为byte，默认为5242880</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        size</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5242880</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # 可选参数，缩略图配置</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    thumbnail</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        # 可选参数，缩略图尺寸，默认为300</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        size</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">300</span></span></code></pre></div>`,10),e=[p];function t(h,k,d,r,o,c){return a(),i("div",null,e)}const y=s(l,[["render",t]]);export{E as __pageData,y as default};
