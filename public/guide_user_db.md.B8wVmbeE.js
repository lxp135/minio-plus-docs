import{_ as t,c as d,o as a,a3 as s}from"./chunks/framework.w16dWhWo.js";const E=JSON.parse('{"title":"文件元数据","description":"","frontmatter":{},"headers":[],"relativePath":"guide/user/db.md","filePath":"guide/user/db.md"}'),e={name:"guide/user/db.md"},n=s('<h1 id="文件元数据" tabindex="-1">文件元数据 <a class="header-anchor" href="#文件元数据" aria-label="Permalink to &quot;文件元数据&quot;">​</a></h1><p>文件元数据的数据结构设计，项目使用时，可自行扩展。</p><h2 id="表设计" tabindex="-1">表设计 <a class="header-anchor" href="#表设计" aria-label="Permalink to &quot;表设计&quot;">​</a></h2><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Length</th><th>Not Null</th><th>Virtual</th><th>Key</th><th>Comment</th></tr></thead><tbody><tr><td>id</td><td>bigint</td><td>20</td><td>True</td><td>False</td><td>True</td><td>自增ID</td></tr><tr><td>file_key</td><td>varchar</td><td>50</td><td>True</td><td>False</td><td></td><td>文件KEY</td></tr><tr><td>file_md5</td><td>varchar</td><td>50</td><td>False</td><td>False</td><td></td><td>文件MD5值</td></tr><tr><td>file_name</td><td>varchar</td><td>255</td><td>True</td><td>False</td><td></td><td>文件名</td></tr><tr><td>file_mime_type</td><td>varchar</td><td>128</td><td>False</td><td>False</td><td></td><td>MIME类型</td></tr><tr><td>file_suffix</td><td>varchar</td><td>20</td><td>False</td><td>False</td><td></td><td>文件后缀</td></tr><tr><td>file_size</td><td>bigint</td><td>20</td><td>False</td><td>False</td><td></td><td>文件大小</td></tr><tr><td>is_preview</td><td>tinyint</td><td>1</td><td>False</td><td>False</td><td></td><td>预览图 0:无 1:有</td></tr><tr><td>is_private</td><td>tinyint</td><td>1</td><td>False</td><td>False</td><td></td><td>是否私有 0:否 1:是</td></tr><tr><td>bucket</td><td>varchar</td><td>20</td><td>True</td><td>False</td><td></td><td>存储桶</td></tr><tr><td>bucket_path</td><td>varchar</td><td>20</td><td>True</td><td>False</td><td></td><td>存储桶路径</td></tr><tr><td>upload_id</td><td>varchar</td><td>255</td><td>False</td><td>False</td><td></td><td>上传任务id</td></tr><tr><td>is_finished</td><td>tinyint</td><td>1</td><td>True</td><td>False</td><td></td><td>状态 0:未完成 1:已完成</td></tr><tr><td>is_part</td><td>tinyint</td><td>1</td><td>False</td><td>False</td><td></td><td>是否分块 0:否 1:是</td></tr><tr><td>part_number</td><td>int</td><td>4</td><td>False</td><td>False</td><td></td><td>分块数量</td></tr><tr><td>create_time</td><td>datetime</td><td></td><td>True</td><td>False</td><td></td><td>创建时间</td></tr><tr><td>create_user</td><td>varchar</td><td>255</td><td>True</td><td>False</td><td></td><td>创建用户</td></tr><tr><td>update_time</td><td>datetime</td><td></td><td>True</td><td>False</td><td></td><td>更新时间</td></tr><tr><td>update_user</td><td>varchar</td><td>255</td><td>True</td><td>False</td><td></td><td>更新用户</td></tr></tbody></table><h2 id="mysql脚本" tabindex="-1">MySQL脚本 <a class="header-anchor" href="#mysql脚本" aria-label="Permalink to &quot;MySQL脚本&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>CREATE TABLE `file_metadata_info` (</span></span>\n<span class="line"><span>  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT &#39;主键&#39;,</span></span>\n<span class="line"><span>  `file_key` varchar(50) NOT NULL COMMENT &#39;文件KEY&#39;,</span></span>\n<span class="line"><span>  `file_md5` varchar(50) DEFAULT NULL COMMENT &#39;文件md5&#39;,</span></span>\n<span class="line"><span>  `file_name` varchar(255) NOT NULL COMMENT &#39;文件名&#39;,</span></span>\n<span class="line"><span>  `file_mime_type` varchar(128) DEFAULT NULL COMMENT &#39;MIME类型&#39;,</span></span>\n<span class="line"><span>  `file_suffix` varchar(20) DEFAULT NULL COMMENT &#39;文件后缀&#39;,</span></span>\n<span class="line"><span>  `file_size` bigint(20) DEFAULT NULL COMMENT &#39;文件大小&#39;,</span></span>\n<span class="line"><span>  `is_preview` tinyint(1) DEFAULT &#39;0&#39; COMMENT &#39;预览图 0:无 1:有&#39;,</span></span>\n<span class="line"><span>  `is_private` tinyint(1) DEFAULT &#39;0&#39; COMMENT &#39;是否私有 0:否 1:是&#39;,</span></span>\n<span class="line"><span>  `bucket` varchar(20) NOT NULL COMMENT &#39;存储桶&#39;,</span></span>\n<span class="line"><span>  `bucket_path` varchar(20) NOT NULL COMMENT &#39;存储桶路径&#39;,</span></span>\n<span class="line"><span>  `upload_id` varchar(255) DEFAULT NULL COMMENT &#39;上传任务id&#39;,</span></span>\n<span class="line"><span>  `is_finished` tinyint(1) NOT NULL DEFAULT &#39;0&#39; COMMENT &#39;状态 0:未完成 1:已完成&#39;,</span></span>\n<span class="line"><span>  `is_part` tinyint(1) DEFAULT NULL COMMENT &#39;是否分块 0:否 1:是&#39;,</span></span>\n<span class="line"><span>  `part_number` int(4) DEFAULT NULL COMMENT &#39;分块数量&#39;,</span></span>\n<span class="line"><span>  `create_time` datetime NOT NULL COMMENT &#39;创建时间&#39;,</span></span>\n<span class="line"><span>  `create_user` varchar(255) NOT NULL COMMENT &#39;创建用户&#39;,</span></span>\n<span class="line"><span>  `update_time` datetime NOT NULL ON UPDATE CURRENT_TIMESTAMP COMMENT &#39;更新时间&#39;,</span></span>\n<span class="line"><span>  `update_user` varchar(255) NOT NULL COMMENT &#39;更新用户&#39;,</span></span>\n<span class="line"><span>  PRIMARY KEY (`id`) USING BTREE,</span></span>\n<span class="line"><span>  KEY `INDEX_KEY` (`file_key`),</span></span>\n<span class="line"><span>  KEY `INDEX_MD5` (`file_md5`)</span></span>\n<span class="line"><span>) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT=&#39;文件元数据信息表&#39;;</span></span></code></pre></div>',6),r=[n];function i(p,l,c,_,h,T){return a(),d("div",null,r)}const u=t(e,[["render",i]]);export{E as __pageData,u as default};
